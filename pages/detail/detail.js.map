{"version":3,"file":"pages/detail/detail.js","sources":["webpack:///._src_pages_detail_detail.tsx","webpack:///._src_components_clock-dialog_clock-dialog.module.scss","webpack:///._src_components_clock-dialog_clock-dialog.tsx","webpack:///._src_components_playing-icon_playing-icon.scss","webpack:///._src_components_playing-icon_playing-icon.tsx","webpack:///._src_pages_detail_components_clock_clock.scss","webpack:///._src_pages_detail_components_clock_clock.tsx","webpack:///._src_pages_detail_components_guide-dialog_guide-dialog.module.scss","webpack:///._src_pages_detail_components_guide-dialog_guide-dialog.tsx","webpack:///._src_pages_detail_components_introduce_introduce.scss","webpack:///._src_pages_detail_components_introduce_introduce.tsx","webpack:///._src_pages_detail_components_knowledge_knowledge.scss","webpack:///._src_pages_detail_components_knowledge_knowledge.tsx","webpack:///._src_pages_detail_components_manuscript_manuscript.scss","webpack:///._src_pages_detail_components_manuscript_manuscript.tsx","webpack:///._src_pages_detail_components_note-list_note-list.module.scss","webpack:///._src_pages_detail_components_note-list_note-list.tsx","webpack:///._src_pages_detail_components_plaly-progress_play-progress.scss","webpack:///._src_pages_detail_components_plaly-progress_play-progress.tsx","webpack:///._src_pages_detail_components_play-control_play-control.scss","webpack:///._src_pages_detail_components_play-control_play-control.tsx","webpack:///._src_pages_detail_components_play-directory_play-directory.scss","webpack:///._src_pages_detail_components_play-directory_play-directory.tsx","webpack:///._src_pages_detail_components_play-rate_index.module.scss","webpack:///._src_pages_detail_components_play-rate_play-rate.tsx","webpack:///._src_pages_detail_components_play-title_index.module.scss","webpack:///._src_pages_detail_components_play-title_play-title.tsx","webpack:///._src_pages_detail_components_send-note_send-note.module.scss","webpack:///._src_pages_detail_components_send-note_send-note.tsx","webpack:///._src_pages_detail_components_share_share.scss","webpack:///._src_pages_detail_components_share_share.tsx","webpack:///._src_pages_detail_detail.module.scss","webpack:///./src/pages/detail/detail.tsx?7bb4"],"sourcesContent":["import { api_credits_get, api_share_clock } from '@/api/clock/clock';\r\nimport {\r\n  api_channel_daily_content_get,\r\n  api_content_discussmessage_get,\r\n  api_content_get,\r\n  api_like_discussmessage_post,\r\n  api_write_discussmessage_post,\r\n} from '@/api/content/content';\r\nimport { IChannelDailyContentGet, IContentGet } from '@/api/content/content.i';\r\nimport FollowRemind from '@/components/follow-remind/follow-remind';\r\nimport Loading from '@/components/loading/loading';\r\nimport { configDefault } from '@/config/config';\r\nimport { ApiStore } from '@/store';\r\nimport { getStorage, handleChannelContent, safeBottom, setStorage } from '@/utils/tools';\r\nimport WX from '@/utils/WX';\r\nimport { Block, Image, View, CustomWrapper } from '@tarojs/components';\r\nimport Taro, { useRouter, useShareAppMessage, useDidShow, useReachBottom } from '@tarojs/taro';\r\nimport { observer } from 'mobx-react';\r\nimport { useRef, useEffect, useState, useCallback } from 'react';\r\nimport Clock from './components/clock/clock';\r\nimport Introduce from './components/introduce/introduce';\r\nimport Knowledge from './components/knowledge/knowledge';\r\nimport Manuscript from './components/manuscript/manuscript';\r\nimport NoteList from './components/note-list/note-list';\r\nimport PlayProgress from './components/plaly-progress/play-progress';\r\nimport PlayDirectory from './components/play-directory/play-directory';\r\nimport PlayRate from './components/play-rate/play-rate';\r\nimport PlayTitle from './components/play-title/play-title';\r\nimport SendNote from './components/send-note/send-note';\r\nimport Share from './components/share/share';\r\nimport style from './detail.module.scss';\r\nimport { CSSModule } from '@/utils/css-module';\r\nimport PlayeControl from './components/play-control/play-control';\r\n// import { getNodes } from '@/utils/tools-plus';\r\nimport GuideDialog from './components/guide-dialog/guide-dialog';\r\nimport { api_judge_subscribed } from '@/api/account/account';\r\nimport { track } from '@/utils/track';\r\n\r\ntype FomateDailyContent = IChannelDailyContentGet.FomateDailyContent;\r\n\r\ninterface IDetail {}\r\nexport interface IContentInfo {\r\n  /** 课程封面 */\r\n  cover_url: string;\r\n  /** 课程名 */\r\n  lecture_name: string;\r\n  /** 文稿内容 */\r\n  manu_message: string;\r\n  /** 主播 */\r\n  anchor: string | null;\r\n  /** 作者 */\r\n  author: string | null;\r\n  /** 书籍介绍 */\r\n  course_book_introduction: string | null;\r\n  /** 书籍名称 */\r\n  book_name: string;\r\n  /** 知识导图 */\r\n  knowledge_map: string | null;\r\n  /** 打卡次数 */\r\n  clock_total: number;\r\n  /** 打卡状态 0今日未打卡 1今日已打卡 2已获取全部返现，禁止打卡 */\r\n  clock_status: 0 | 1 | 2;\r\n  /** 付费用户 */\r\n  is_cashback_user: boolean;\r\n}\r\nconst Detail = CSSModule((props: IDetail) => {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  /** 是否关注公众号 */\r\n  const [is_subscribed, setIsSubscribed] = useState(false);\r\n  const [contentInfo, setContentInfo] = useState<IContentInfo>();\r\n  const pageIndex = useRef(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [newDiscusses, setNewDiscusses] = useState<Discusses[]>([]); // 笔记列表\r\n  const [myDiscusses, setMyDiscusses] = useState<Discusses[]>([]); // 我的笔记列表\r\n  const [totalCount, setTotalCount] = useState(0); // 笔记总数\r\n  const [notesLoading, setNotesLoading] = useState(true); // 写笔记的loading\r\n  const [fromView, setFromView] = useState(''); // 目录锚点\r\n  const [unread, setUnread] = useState(0); // 是否已听\r\n  const [fomateDailyContent, setFomateDailyContent] = useState<FomateDailyContent[]>([]);\r\n  const [sendSucc, setSendSucc] = useState(false); // 通知笔记组件发表成功\r\n  const [object_id, setObjectId] = useState(router.params.object_id ?? '');\r\n  const [channelInfo, setChannelInfo] = useState<IChannelDailyContentGet.ChannelInfo>();\r\n  const discussId = useRef(0); // 笔记id\r\n  const playNow = useRef(false); // 是否立即播放\r\n  const shareInfo = useRef({\r\n    title: '想成为高情商、有才识、有气质的智慧女性吗？',\r\n    path: '/pages/activity/activity', //若无path 默认跳转分享页\r\n    imageUrl: 'https://static-1253442168.file.myqcloud.com/xupload/20210610_shareImg.png', //若无imageUrl 截图当前页面\r\n  });\r\n  const channel_id = router.params.channel_id || getStorage('setChannelId') || configDefault.channel_id;\r\n\r\n  /** 初始化 */\r\n  useEffect(() => {\r\n    handleSubscribe();\r\n  }, []);\r\n\r\n  /** lectureId（object_id）发生变化，获取课程数据 */\r\n  useEffect(() => {\r\n    console.log('object_id change', object_id);\r\n\r\n    if (object_id) getLectureContent(object_id);\r\n  }, [object_id]);\r\n\r\n  useEffect(() => {\r\n    console.log('contentInfo', contentInfo);\r\n    if (contentInfo) {\r\n      setLoading(false);\r\n      // setTimeout(() => {\r\n      //   getNodes();\r\n      // }, 3000);\r\n    }\r\n  }, [contentInfo]);\r\n\r\n  useDidShow(() => {\r\n    track.setEvent('lh_play_show');\r\n  });\r\n\r\n  const handleSubscribe = async () => {\r\n    try {\r\n      const subscribe = wx.getStorageSync('setIsSubscribe');\r\n      if (subscribe) {\r\n        setIsSubscribed(subscribe);\r\n      } else {\r\n        const account_id = Number(wx.getStorageSync('account').id ?? '');\r\n        const res = await api_judge_subscribed(account_id);\r\n        wx.setStorageSync('setIsSubscribe', res.is_subscribed);\r\n        setIsSubscribed(res.is_subscribed);\r\n      }\r\n    } catch (error) {\r\n      console.error('handleSubscribe', error);\r\n    }\r\n  };\r\n\r\n  /** 请求当前课程学习内容 */\r\n  const getLectureContent = async (lecture_id: string) => {\r\n    try {\r\n      console.log('router', router, object_id);\r\n      if (object_id) {\r\n        const res = await api_content_get({ channel_id, lecture_id });\r\n        console.log('res', res);\r\n        contentHandler(res);\r\n        getDiscussesList();\r\n        getChannelDaily(); // 获取专栏列表\r\n      }\r\n    } catch (error) {\r\n      console.log('getLectureContent error', error);\r\n    }\r\n  };\r\n\r\n  const contentHandler = (res: IContentGet.data) => {\r\n    const manu_message = res.daily_content.text.replace(/\\<img/gi, `<img class=\"rich-img\"`); //文稿内容 正则给img标签增加class\r\n    const lecture_name = res.daily_content.title; // 课程名称\r\n    const cover_url = res.book_content.cover_url; // 书籍封面\r\n    const anchor = res.daily_content.anchor; // 主播\r\n    const author = res.daily_content.author; // 作者\r\n    const course_book_introduction = res.daily_content.course_book_introduction; // 书籍极少\r\n    const book_name = res.book_content.book_name; // 书籍名称\r\n    const knowledge_map = res.daily_content.knowledge_map; // 知识导图\r\n    const clock_total = res.clock_total; // 总打卡次数\r\n    const clock_status = res.clock_status; // 打卡状态 0今日未打卡 1今日已打卡 2已获取全部返现，禁止打卡\r\n    const is_cashback_user = res.is_cashback_user; // 课程名称\r\n    setContentInfo({\r\n      cover_url,\r\n      lecture_name,\r\n      manu_message,\r\n      anchor,\r\n      author,\r\n      course_book_introduction,\r\n      book_name,\r\n      knowledge_map,\r\n      clock_total,\r\n      clock_status,\r\n      is_cashback_user,\r\n    });\r\n  };\r\n\r\n  /** 获取笔记列表接口 */\r\n  const getDiscussesList = async () => {\r\n    try {\r\n      if (!object_id) return;\r\n      if (totalCount > 0 && newDiscusses.length < totalCount) {\r\n        setHasMore(true);\r\n      }\r\n      console.log('pageIndex.current', pageIndex.current);\r\n      const res = await api_content_discussmessage_get({\r\n        content_id: object_id,\r\n        limit: 10,\r\n        page: pageIndex.current,\r\n      });\r\n      setTotalCount(res.total_count);\r\n      let myDiscussesList: Discusses[] = [];\r\n      let discusses: Discusses[] = [];\r\n      if (pageIndex.current === 1 && res.my_discusses.length) {\r\n        // 自己发的笔记永远显示在第一个 并且会覆盖以前的笔记\r\n        myDiscussesList = res.my_discusses.slice(0, 1);\r\n        myDiscussesList[0].myDiscusses = true;\r\n        setMyDiscusses(myDiscussesList);\r\n      }\r\n      if (res.discusses.length) {\r\n        pageIndex.current += 1;\r\n        discusses = [...newDiscusses, ...res.discusses];\r\n        console.log('discusses.length - 1 === res.total_count', discusses.length - 1, res.total_count);\r\n        // 如果有自己的笔记，那么笔记总数需要-1\r\n        console.log('hasmore', discusses.length, res.total_count);\r\n        if (discusses.length === res.total_count) {\r\n          setHasMore(false);\r\n        }\r\n        console.log('discusses', discusses, discusses.length);\r\n        setNewDiscusses(discusses);\r\n      } else {\r\n        setHasMore(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('getDiscussesList error', error);\r\n      setHasMore(false);\r\n    } finally {\r\n      setNotesLoading(false);\r\n    }\r\n  };\r\n\r\n  /** 请求课程列表 */\r\n  const getChannelDaily = async () => {\r\n    let channel: IChannelDailyContentGet.data;\r\n    const localChannel = getStorage('set_fomate_daily_content');\r\n    if (localChannel) {\r\n      channel = localChannel;\r\n    } else {\r\n      const remotChannel = await api_channel_daily_content_get({ channel_id: channel_id });\r\n      channel = handleChannelContent(remotChannel);\r\n      setStorage('set_fomate_daily_content', channel);\r\n    }\r\n    console.log('channelInfo', channel);\r\n    getAudioMessage(channel.fomate_daily_content);\r\n    setChannelInfo(channel.channel_info);\r\n  };\r\n\r\n  /** 获取音频信息 */\r\n  const getAudioMessage = (fomate_daily_content: FomateDailyContent[]) => {\r\n    let lectureIndex = -1;\r\n    fomate_daily_content.forEach((item) => {\r\n      item.books?.forEach((book) => {\r\n        // 目录折叠面板 传给目录组件之前就全局赋值\r\n        book.isShowPanel = true;\r\n        // 优化性能，搜索到对应id就不走下面\r\n        if (lectureIndex === -1) {\r\n          lectureIndex = book.lectures.findIndex((lecture) => Number(object_id) === lecture.object_id);\r\n          if (lectureIndex !== -1) {\r\n            const lecture = book.lectures[lectureIndex];\r\n            const { title, anchor, author, book_id, object_type, unread: _unread, unlock, object_id: _object_id } = lecture;\r\n            const { audio, length, id } = lecture.object_info;\r\n            ApiStore.player.setPlayInfo({\r\n              duration: length,\r\n              src: audio,\r\n              object_id: _object_id,\r\n              status: 'pause',\r\n              title,\r\n              anchor,\r\n              author,\r\n              book_id,\r\n              object_type,\r\n              channel_id,\r\n              unread: _unread,\r\n              unlock,\r\n              cover_url: book.cover_url,\r\n            });\r\n            console.log('setFromView', `id_to_${book.id}`, book);\r\n            if (playNow.current) {\r\n              ApiStore.player.goPlay();\r\n              playNow.current = false;\r\n            }\r\n            setFromView(`id_to_${book.id}`);\r\n            setUnread(lecture.unread);\r\n          }\r\n        }\r\n      });\r\n    });\r\n    console.log('fomate_daily_content', fomate_daily_content);\r\n    setFomateDailyContent(fomate_daily_content);\r\n  };\r\n\r\n  /** 切换目录课程 */\r\n  const onLectureEvent = (lectureId: string) => {\r\n    console.log('onLectureEvent', lectureId);\r\n    setObjectId(lectureId);\r\n    playNow.current = true;\r\n  };\r\n\r\n  /** 笔记组件点赞监听 */\r\n  const onNoteLikeEvent = async (item: Discusses) => {\r\n    try {\r\n      discussId.current = item.id;\r\n      console.log('--->', item.id, item.is_liked);\r\n      await api_like_discussmessage_post({ content_id: object_id, discuss_id: item.id, is_liked: !item.is_liked });\r\n      commonDiscussEvent(item, !item.is_liked);\r\n    } catch (error) {\r\n      console.error('点赞失败');\r\n      wx.showToast({ title: !item.is_liked ? '点赞失败' : '取消点赞失败', icon: 'none' });\r\n    }\r\n  };\r\n\r\n  // 公共函数 处理点赞 取消点赞\r\n  const commonDiscussEvent = (item: Discusses, type: boolean) => {\r\n    // 给自己点赞\r\n    if (item.myDiscusses) {\r\n      myDiscusses.forEach((dis) => {\r\n        if (discussId.current === dis.id) {\r\n          dis.is_liked = type;\r\n          dis.like_count = type ? dis.like_count + 1 : dis.like_count - 1;\r\n        }\r\n      });\r\n      setMyDiscusses([...myDiscusses]);\r\n    } else {\r\n      // 给用户点赞\r\n      newDiscusses.forEach((dis) => {\r\n        if (discussId.current === dis.id) {\r\n          dis.is_liked = type;\r\n          dis.like_count = type ? dis.like_count + 1 : dis.like_count - 1;\r\n        }\r\n      });\r\n      setNewDiscusses([...newDiscusses]);\r\n    }\r\n  };\r\n\r\n  /** 请求发表笔记接口 */\r\n  const onEmitNoteSendEvent = async (value: string, success: Function) => {\r\n    try {\r\n      Taro.showLoading();\r\n      const res = await api_write_discussmessage_post({ content_id: object_id, message: value });\r\n      const data = res;\r\n      data.like_count = 0;\r\n      data.myDiscusses = true;\r\n      setMyDiscusses([data]);\r\n      setSendSucc(true);\r\n      getPublishNoteCredits(success);\r\n    } catch (error) {\r\n      Taro.hideLoading();\r\n      console.error(error);\r\n      WX.Toast(`发布笔记失败: ${error.msg}`);\r\n    }\r\n  };\r\n\r\n  /** 请求发表笔记获积分 */\r\n  const getPublishNoteCredits = async (success: Function) => {\r\n    try {\r\n      const res = await api_credits_get({ channel_id, lecture_id: object_id });\r\n      Taro.hideLoading();\r\n      ApiStore.common.setNoteDialog(false);\r\n      success(true);\r\n      if (ApiStore.common.noteType === 'edit') {\r\n        WX.Toast({ title: '编辑成功！', icon: 'success' });\r\n        // TODO: 显示笔记发表成功的图片弹窗\r\n        return;\r\n      }\r\n      if (res.got_credits) return WX.Toast(`笔记提交成功，获得${res.got_credits}学分`);\r\n      WX.Toast({ title: '笔记发表成功', icon: 'success' });\r\n    } catch (error) {\r\n      Taro.hideLoading();\r\n      console.error(error);\r\n      WX.Toast('获取积分失败！');\r\n      success(false);\r\n    }\r\n  };\r\n\r\n  /** 修改打卡状态 */\r\n  const setClockStatus = useCallback(\r\n    (status) => {\r\n      if (contentInfo) {\r\n        console.log('setClockStatus', contentInfo);\r\n\r\n        setContentInfo({ ...contentInfo, clock_status: status });\r\n      }\r\n    },\r\n    [contentInfo]\r\n  );\r\n\r\n  /** 下拉触底 */\r\n  useReachBottom(() => {\r\n    console.log('useReachBottom');\r\n    getDiscussesList();\r\n  });\r\n\r\n  const setShareInfo = (e) => {\r\n    console.log('setShareInfo', e);\r\n\r\n    shareInfo.current = e;\r\n  };\r\n\r\n  /** 分享监听 */\r\n  useShareAppMessage((res: any) => {\r\n    console.log('useShareAppMessage res', res, res?.target?.dataset?.shareInfo);\r\n    if (res.target) {\r\n      // res.target.dataset.shareInfo.from ? track.setEvent('lh_share_sh_ck') : track.setEvent('lh_play_sh_ck');\r\n      if (res.target.dataset.shareInfo.from) {\r\n        track.setEvent('lh_share_cl_ck');\r\n        api_share_clock().catch(() => {}); // 分享打卡事件上报\r\n      } else {\r\n        track.setEvent('lh_share_sh_ck');\r\n      }\r\n      return res.target.dataset.shareInfo;\r\n    } else {\r\n      track.setEvent('lh_play_sh_ck');\r\n      return shareInfo.current;\r\n    }\r\n  });\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : (\r\n    <View styleName=\"scroll-view-container\">\r\n      {!is_subscribed && (\r\n        <Block>\r\n          <FollowRemind></FollowRemind>\r\n        </Block>\r\n      )}\r\n      <View styleName=\"play-box-container\">\r\n        {contentInfo && <PlayTitle {...contentInfo}></PlayTitle>}\r\n        <View styleName=\"play-content-wrapper\" className=\"flex\">\r\n          {/* 目录 */}\r\n          <CustomWrapper>\r\n            <PlayDirectory\r\n              object_id={object_id}\r\n              fromView={fromView}\r\n              channelTitle={channelInfo?.name ?? ''}\r\n              fomateDailyContent={fomateDailyContent}\r\n              onEmitLectureEvent={onLectureEvent}></PlayDirectory>\r\n          </CustomWrapper>\r\n          {/* 播放按钮 + 底部播放浮窗 */}\r\n          <PlayeControl\r\n            lectureName={contentInfo?.lecture_name ?? ''}\r\n            coverUrl={contentInfo?.cover_url ?? ''}\r\n            objectId={object_id}\r\n            channelId={channel_id}></PlayeControl>\r\n          {/*  播放倍速  */}\r\n          <PlayRate></PlayRate>\r\n        </View>\r\n        {/* <CustomWrapper> */}\r\n        <PlayProgress></PlayProgress>\r\n        {/* </CustomWrapper> */}\r\n        <View styleName=\"play-fun-list\" className=\"flex\">\r\n          <Manuscript lectureName={contentInfo?.lecture_name ?? ''} manuMessage={contentInfo?.manu_message ?? ''}></Manuscript>\r\n          {/*  知识导图  */}\r\n          <Knowledge knowledgeMap={contentInfo?.knowledge_map ?? ''} unread={unread}></Knowledge>\r\n          <Introduce\r\n            bookName={contentInfo?.book_name ?? ''}\r\n            manuMessage={contentInfo?.manu_message ?? ''}\r\n            courseBookIntroduction={contentInfo?.course_book_introduction ?? ''}\r\n            coverUrl={contentInfo?.cover_url ?? ''}></Introduce>\r\n          {/*  分享好友  */}\r\n          <Share objectId={object_id} coverUrl={contentInfo?.cover_url ?? ''} setShareInfoCallback={setShareInfo}></Share>\r\n        </View>\r\n        {/*  每日打卡  */}\r\n        <Clock\r\n          objectId={object_id}\r\n          channelId={channel_id}\r\n          setClockStatus={setClockStatus}\r\n          clockTotal={contentInfo?.clock_total ?? 0}\r\n          clockStatus={contentInfo?.clock_status ?? 0}\r\n          duration={ApiStore.player.getPlayInfo.duration}\r\n          isCashbackUser={contentInfo?.is_cashback_user ?? false}></Clock>\r\n        {/*  编辑笔记  */}\r\n        <SendNote\r\n          coverUrl={contentInfo?.cover_url ?? ''}\r\n          lectureName={contentInfo?.lecture_name ?? ''}\r\n          onEmitNoteSendEvent={onEmitNoteSendEvent}\r\n          totalCount={totalCount}\r\n          sendSucc={sendSucc}\r\n          manuMessage={contentInfo?.manu_message ?? ''}></SendNote>\r\n        {/*  笔记内容  */}\r\n        {notesLoading ? (\r\n          <View styleName=\"loading-note\">\r\n            <Image styleName=\"loading-img\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210712_loading.gif\"></Image>\r\n            <View>笔记正在加载中...</View>\r\n          </View>\r\n        ) : (\r\n          <Block>\r\n            <CustomWrapper>\r\n              <NoteList newDiscusses={newDiscusses} myDiscusses={myDiscusses} onNoteLikeEvent={onNoteLikeEvent}></NoteList>\r\n            </CustomWrapper>\r\n          </Block>\r\n        )}\r\n      </View>\r\n      {!!newDiscusses.length && (\r\n        <Block>\r\n          <View styleName=\"bottom-line\" style={{ marginBottom: `${70 + safeBottom()}px` }}>\r\n            {hasMore ? '加载中...' : '翻完了~'}\r\n          </View>\r\n        </Block>\r\n      )}\r\n      <GuideDialog />\r\n    </View>\r\n  );\r\n}, style);\r\n\r\nexport default observer(Detail);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"share-dialog-img\":\"share-dialog-img--3AqTv\",\"share-button-wrapper\":\"share-button-wrapper--10YpT\",\"share-button\":\"share-button--1xUg6\",\"share-button-active\":\"share-button-active--14o4O\",\"button-item\":\"button-item--11C5c\",\"actived\":\"actived--2kwDX\",\"actived-active\":\"actived-active--_h61N\",\"icon-weixinfenxiang1x\":\"icon-weixinfenxiang1x--2qmkD\",\"icon-guanbidanchuang1x\":\"icon-guanbidanchuang1x--3mm5K\",\"icon-pengyouquanfenxiang1x\":\"icon-pengyouquanfenxiang1x--3EM9o\",\"clock-title\":\"clock-title--2Gpf9\",\"modal-mask\":\"modal-mask--3bIjb\",\"modal-content\":\"modal-content--3MD6l\",\"main-content\":\"main-content--1f1NX\",\"modal-title\":\"modal-title--3qpvT\",\"share-wrapper\":\"share-wrapper--3ggxI\",\"medal-icon\":\"medal-icon--1a3vg\",\"clock_dialog_bg\":\"clock_dialog_bg--mW3q6\",\"clock-share-top-bg\":\"clock-share-top-bg--1sUfP\",\"light-icon\":\"light-icon--2MPdN\",\"animal\":\"animal--ar3Ig\"};","import { ApiStore } from '@/store';\r\nimport { CSSModule } from '@/utils/css-module';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { Block, Button, Image, Text, View } from '@tarojs/components';\r\nimport { useState } from 'react';\r\nimport Dialog from '../dialog/dialog';\r\nimport style from './clock-dialog.module.scss';\r\n\r\ninterface IShareDialog {\r\n  value: boolean;\r\n  setValue: Function;\r\n  shareInfo?: { title: string; path: string; imageUrl: string };\r\n}\r\nconst ClockDialog = CSSModule((props: IShareDialog) => {\r\n  const { value, setValue, shareInfo } = props;\r\n\r\n  const bindSaveImage = () => {\r\n    // track.setEvent(`lh_${fr}_sa_ck`);\r\n    // WX.saveImage(cardUrl);\r\n  };\r\n\r\n  return (\r\n    <Dialog value={value} setValue={setValue} backgroundColor=\"transparent\" showClose>\r\n      <View styleName=\"share-wrapper\">\r\n        {/* <View styleName=\"clock-share-top-bg\"></View> */}\r\n        <View styleName=\"clock-share-card\">\r\n          <Image\r\n            styleName=\"medal-icon\"\r\n            src=\"https://static-1253442168.file.myqcloud.com/xupload/20210923_clock_dialog_header_bg.png\"></Image>\r\n          <Image styleName=\"clock_dialog_bg\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210923_clock_dialog_bg.png\"></Image>\r\n          <Image styleName=\"light-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210918_guang.png\"></Image>\r\n          <View styleName=\"clock-title\">阿撒大大大</View>\r\n          {/* <Image styleName=\"share-dialog-img\" mode=\"heightFix\"></Image> */}\r\n        </View>\r\n        <View styleName=\"share-button-wrapper \" className=\"flex\">\r\n          <View hoverClass=\"actived-active\" styleName=\"share-button actived\" onClick={bindSaveImage}>\r\n            <Text styleName=\"icon-pengyouquanfenxiang1x\" className=\"icon icon-pengyouquanfenxiang1x\"></Text>\r\n            <View styleName=\"button-item\">生成打卡图片</View>\r\n          </View>\r\n          <View hoverClass=\"share-button-active\" styleName=\"share-button\">\r\n            <Text styleName=\"icon-weixinfenxiang1x\" className=\"icon icon-weixinfenxiang1x\"></Text>\r\n            <Button styleName=\"button-item\" openType=\"share\" data-shareInfo={shareInfo} onClick={() => setValue(false)}>\r\n              分享成就\r\n            </Button>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </Dialog>\r\n  );\r\n}, style);\r\nexport default ClockDialog;\r\n","// extracted by mini-css-extract-plugin","import type { PlayerStatus } from '@/store/player';\r\nimport { Text, View } from '@tarojs/components';\r\nimport './playing-icon.scss';\r\nimport { useMemo } from 'react';\r\n\r\ninterface IPlayingIcon {\r\n  statue: PlayerStatus;\r\n}\r\n\r\nconst playIcons = {\r\n  pause: 'icon-zanting1',\r\n  loading: 'icon-jiazai',\r\n};\r\n/** 播放的动画 */\r\nconst PlayingIcon = (props: IPlayingIcon) => {\r\n  const { statue } = props;\r\n  console.log('playing statue', statue);\r\n\r\n  return useMemo(\r\n    () => (\r\n      <View className={`beat-wrap ${statue === 'play' && 'beat-playing'}`}>\r\n        <View className=\"beat\">\r\n          <View className=\"beat-item \"></View>\r\n          <View className=\"beat-item \"></View>\r\n          <View className=\"beat-item \"></View>\r\n          <View className=\"beat-item \"></View>\r\n        </View>\r\n      </View>\r\n    ),\r\n    [statue]\r\n  );\r\n};\r\nexport default PlayingIcon;\r\n","// extracted by mini-css-extract-plugin","import { api_clock_in, api_clock_mina_share_get } from '@/api/clock/clock';\r\nimport { IClockIn } from '@/api/clock/clock.i';\r\nimport ClockDialog from '@/components/clock-dialog/clock-dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { Block, Image, Text, View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nimport { observer } from 'mobx-react';\r\nimport { useState, useRef, useEffect, useMemo } from 'react';\r\nimport './clock.scss';\r\n\r\ninterface IClock {\r\n  objectId: string | undefined;\r\n  channelId: number;\r\n  clockTotal: number;\r\n  setClockStatus: Function;\r\n  clockStatus: number;\r\n  duration: number;\r\n  isCashbackUser: boolean;\r\n}\r\nconst Clock = observer((props: IClock) => {\r\n  const { clockTotal, isCashbackUser, clockStatus, objectId, channelId, duration, setClockStatus } = props;\r\n  const [clockMessage, setClockMessage] = useState(''); // 打卡信息提示\r\n  const [onClock, setOnClock] = useState(false); // 是否能打卡\r\n  const limit = useRef(0); // 限制听到多少分的时候才能打卡\r\n  const [cardUrl, setCardUrl] = useState(''); // 分享卡\r\n  const [randomShareWord, setRandomShareWord] = useState(''); // 分享dialog标题\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [customDay, setCustomDay] = useState(0); // 打卡成功后手动加一天\r\n  const time = useRef(0);\r\n  const [shareModel, setShareModel] = useState({\r\n    title: '',\r\n    path: '',\r\n    imageUrl: '',\r\n    from: 'clock',\r\n  });\r\n\r\n  // 是否可以打卡\r\n  useEffect(() => {\r\n    if (ApiStore.player.playInfo.object_id === ApiStore.player.playingInfo.object_id && ApiStore.player.playingState === 'play') {\r\n      time.current++;\r\n      if (ApiStore.player.progress / 60 > limit.current && !onClock && time.current >= 3) {\r\n        // 可能有一瞬间进度条会缓存上一次的进度，从而导致时间不对，被触发打卡\r\n        if (time.current >= 3) {\r\n          setOnClock(true);\r\n          setClockMessage('现在可以打卡啦！');\r\n        }\r\n      }\r\n    }\r\n  }, [ApiStore.player.progress, onClock]);\r\n\r\n  useEffect(() => {\r\n    if (clockStatus !== undefined && duration !== undefined && isCashbackUser !== undefined) {\r\n      console.log('进来几次');\r\n\r\n      const _limit = duration / 60 >= 8 ? 8 : Math.floor(duration / 60);\r\n      const _title = `点击查看${isCashbackUser ? '返现' : '学分'}记录>>`;\r\n      const _clockMessage = `${clockStatus ? _title : `听${_limit}分钟就可以打卡啦`}`;\r\n      setClockMessage(_clockMessage);\r\n      limit.current = _limit;\r\n    }\r\n  }, [duration]);\r\n\r\n  const bindMoreCash = () => {\r\n    if (clockStatus) {\r\n      track.setEvent('lh_go_cash_ck');\r\n      const url = isCashbackUser ? '/pages/personal/withdrawal/withdrawal' : '/pages/personal/center-credit/center-credit';\r\n      WX.navigateTo(url);\r\n    }\r\n  };\r\n\r\n  /** 每日打卡 */\r\n  const getClockIn = async () => {\r\n    try {\r\n      track.setEvent('lh_play_dot_ck');\r\n      if (!onClock && !clockStatus) return WX.Toast(`听到${limit.current}分钟才可以打卡噢~`);\r\n      Taro.showLoading();\r\n      const res = await api_clock_in({ object_id: objectId!, channel_id: channelId });\r\n      Taro.hideLoading();\r\n      const creadit = res.got_creadits;\r\n      const balance = res.got_balance;\r\n      let msg = '';\r\n      if (!creadit && !balance) {\r\n        msg = '今日已打卡';\r\n      } else {\r\n        const fx = balance ? `返现${balance / 100}元，` : ``;\r\n        const xf = creadit ? `获得${creadit}学分` : ``;\r\n        msg = `打卡成功，${fx}${xf}`;\r\n        setClockStatus(1);\r\n        setCustomDay(1);\r\n      }\r\n      setCardUrl(res.card_url);\r\n      setRandomShareWord(res.random_share_word);\r\n      setClockMessage(`点击查看${isCashbackUser ? '返现' : '学分'}记录>>`);\r\n      WX.Toast(msg);\r\n      await getClockMinaShare(res);\r\n      setShowDialog(true);\r\n    } catch (error) {\r\n      console.error('getClockIn error', error);\r\n      Taro.hideLoading();\r\n      WX.Toast('获取打卡失败');\r\n    }\r\n  };\r\n\r\n  /** 获取分享卡信息 */\r\n  const getClockMinaShare = async (res: IClockIn.data) => {\r\n    try {\r\n      const share = await api_clock_mina_share_get({ book_name: res.book, share_word: res.share_word });\r\n      const model = {\r\n        ...shareModel,\r\n        imageUrl: share.card_url,\r\n        title: `我在梨花听书学习，已学习${res.history_daysum}天`,\r\n        path: `/pages/activity/activity?from=clock`, // 打卡转发\r\n      };\r\n      setShareModel(model);\r\n    } catch (error) {\r\n      console.error('getClockMinaShare', error);\r\n      WX.Toast('获取分享卡信息失败');\r\n    }\r\n  };\r\n\r\n  return useMemo(() => {\r\n    return (\r\n      <Block>\r\n        <View className=\"clock-container\">\r\n          <View className=\"clock-wrapper flex\">\r\n            <View className=\"flex\">\r\n              <Image\r\n                className=\"clock-icon\"\r\n                mode=\"widthFix\"\r\n                src=\"https://static-1253442168.file.myqcloud.com/xupload/20210811_daka.png\"></Image>\r\n              <View className=\"clock-left\">\r\n                <View className=\"title\">\r\n                  你已累计打卡<Text className=\"day\">{clockTotal + customDay + '天'}</Text>\r\n                </View>\r\n                <View className=\"sub-title\" onClick={bindMoreCash}>\r\n                  {clockMessage}\r\n                </View>\r\n              </View>\r\n            </View>\r\n            {/*  todo 打卡会有多种状态  */}\r\n            <View\r\n              className={`clock-button ${clockStatus || !onClock ? '' : 'move'}`}\r\n              onClick={getClockIn}\r\n              style={\r\n                'background: ' +\r\n                (clockStatus || !onClock\r\n                  ? 'linear-gradient(231deg, #FEE086 0%, #FAC986 100%)'\r\n                  : 'linear-gradient(248deg, #FDC50A 0%, #F3571E 100%)')\r\n              }>\r\n              {!(clockStatus || !onClock) && <View className=\"light\"></View>}\r\n              {clockStatus ? '已打卡' : '打卡'}\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <ClockDialog shareInfo={shareModel} value={showDialog} setValue={setShowDialog}></ClockDialog>\r\n        {/*  每日打卡  */}\r\n        {/* <ShareDialog\r\n          fr=\"exam\"\r\n          shareText=\"分享知识\"\r\n          value={showDialog}\r\n          setValue={setShowDialog}\r\n          cardUrl={cardUrl}\r\n          shareInfo={shareModel}\r\n          randomShareWord={randomShareWord}></ShareDialog> */}\r\n      </Block>\r\n    );\r\n  }, [\r\n    shareModel,\r\n    showDialog,\r\n    randomShareWord,\r\n    cardUrl,\r\n    onClock,\r\n    clockMessage,\r\n    clockTotal,\r\n    isCashbackUser,\r\n    clockStatus,\r\n    objectId,\r\n    channelId,\r\n    duration,\r\n    setClockStatus,\r\n    customDay,\r\n  ]);\r\n});\r\nexport default Clock;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"wrap--3rXrw\",\"info\":\"info--13Vfd\",\"btn\":\"btn--3aQCd\",\"margin_40\":\"margin_40--2fx8M\",\"margin_top_50\":\"margin_top_50--1l4ZE\",\"hover-class\":\"hover-class--2Jqew\"};","/*\r\n * @Description: 引导关注公众号、购买转化弹窗\r\n * @Date: 2021-09-08 10:32:32\r\n * @LastEditTime: 2021-09-23 15:16:49\r\n */\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport style from './guide-dialog.module.scss';\r\nimport { Button, View } from '@tarojs/components';\r\nimport Taro, { useTabItemTap } from '@tarojs/taro';\r\nimport Dialog from '@/components/dialog/dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { observer } from 'mobx-react';\r\nimport { api_business_flag } from '@/api/common/common';\r\nimport { getEntry } from '@/utils/tools';\r\nimport { track } from '@/utils/track';\r\n\r\ntype IMapInfo = {\r\n  [x in IMapType]: {\r\n    infoList: {\r\n      id: number;\r\n      info: string;\r\n      className?: any;\r\n    }[];\r\n    btnInfo: {\r\n      name: string;\r\n      path: string;\r\n      className?: any;\r\n    };\r\n  };\r\n};\r\n\r\ntype IMapType = 'check_trial_subscribed_pop' | 'trail_conversion_pop';\r\n\r\nconst GuideDialog = observer(() => {\r\n  const progress = ApiStore.player.getSliderProgress;\r\n  const status = ApiStore.player.getPlayInfo.status;\r\n\r\n  const [check_trial_subscribed_pop, setCheckTrialSubscribedPop] = useState<boolean>(false); // 是否给试听用户弹出关注公众号弹窗\r\n  const [trail_conversion_pop, setTrailConversionPop] = useState<boolean>(false); //是否需要给用户弹出购买转化弹窗\r\n  const [isVisible, setIsVisible] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    getStatus();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isVisible && (check_trial_subscribed_pop || trail_conversion_pop) && status === 'play' && progress <= 1) {\r\n      setIsVisible(true);\r\n    }\r\n  }, [isVisible, status, check_trial_subscribed_pop, trail_conversion_pop, progress]);\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      console.log('effect--->', isVisible);\r\n      if (check_trial_subscribed_pop) {\r\n        track.setEvent('lh_play_subscribed_show'); // 提示弹窗-去了解一下按钮\r\n      } else {\r\n        track.setEvent('lh_play_conversion_show'); // 提示弹窗-去了解一下按钮\r\n      }\r\n    }\r\n  }, [isVisible, check_trial_subscribed_pop]);\r\n\r\n  const mapInfo: IMapInfo = {\r\n    check_trial_subscribed_pop: {\r\n      infoList: [\r\n        {\r\n          id: 1,\r\n          info: '恭喜你开始听书啦！',\r\n        },\r\n        {\r\n          id: 2,\r\n          info: '在你听书的时候可以去关注公众号打开课程提醒，这样就不会漏了明天的听书啦！',\r\n        },\r\n        {\r\n          id: 3,\r\n          info: '多听几天你就能体会到知识的美妙～',\r\n          className: style.margin_40,\r\n        },\r\n      ],\r\n      btnInfo: {\r\n        path: 'https://mp.weixin.qq.com/s/a7HDCvHdpj6v4_q1k50ZpQ',\r\n        name: '去打开提醒',\r\n      },\r\n    },\r\n    trail_conversion_pop: {\r\n      infoList: [\r\n        {\r\n          id: 1,\r\n          info: '恭喜你，连续听了几天书啦！你是个懂得坚持的人，会学到更多的知识。',\r\n        },\r\n        {\r\n          id: 2,\r\n          info: '梨花听书为了让大家学到更多知识，成为高情商、有财识的智慧女性，我们制定了100天的听书计划，点击下方按钮了解100天听书计划！',\r\n        },\r\n      ],\r\n      btnInfo: {\r\n        path: 'https://mp.weixin.qq.com/s/a7HDCvHdpj6v4_q1k50ZpQ',\r\n        name: '去了解一下咯',\r\n        className: style.margin_top_50,\r\n      },\r\n    },\r\n  };\r\n\r\n  const getStatus = async () => {\r\n    try {\r\n      const res = await api_business_flag({\r\n        method: ['trial_subscribed_pop', 'trail_conversion_pop'],\r\n      });\r\n      if (res) {\r\n        setCheckTrialSubscribedPop(res.trial_subscribed_pop);\r\n        setTrailConversionPop(res.trail_conversion_pop);\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  const goLink = (url: string, type: 'check_trial_subscribed_pop' | 'trail_conversion_pop') => {\r\n    if (type === 'check_trial_subscribed_pop') {\r\n      track.setEvent('lh_play_subscribed_ck'); // 提示弹窗-去打开提醒按钮\r\n    } else {\r\n      track.setEvent('lh_play_conversion_ck'); // 提示弹窗-去了解一下按钮\r\n    }\r\n    Taro.navigateTo({\r\n      url: `/pages/h5/h5?webViewUrl=${url}`,\r\n    });\r\n  };\r\n\r\n  return useMemo(() => {\r\n    const type = check_trial_subscribed_pop ? 'check_trial_subscribed_pop' : 'trail_conversion_pop';\r\n    const data = mapInfo[type];\r\n    return (\r\n      <Dialog value={isVisible} setValue={setIsVisible} backgroundColor=\"#fff\" title=\"梨花小提示\" showClose>\r\n        <View className={style.wrap}>\r\n          {data.infoList.map((item) => {\r\n            return (\r\n              <View className={`${style.info} ${item?.className}`} key={item.id}>\r\n                {item.info}\r\n              </View>\r\n            );\r\n          })}\r\n          <Button\r\n            className={`${style.btn} ${data.btnInfo?.className}`}\r\n            onClick={() => goLink(data.btnInfo.path, type)}\r\n            hoverClass=\"hover-class\">\r\n            {data.btnInfo.name}\r\n          </Button>\r\n        </View>\r\n      </Dialog>\r\n    );\r\n  }, [check_trial_subscribed_pop, trail_conversion_pop, isVisible]);\r\n});\r\n\r\nexport default GuideDialog;\r\n","// extracted by mini-css-extract-plugin","import BottomDialog from '@/components/bottom-dialog/bottom-dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { track } from '@/utils/track';\r\nimport { Block, Image, RichText, ScrollView, Text, View } from '@tarojs/components';\r\nimport { useState, useEffect } from 'react';\r\nimport './introduce.scss';\r\n\r\ninterface IIntroduce {\r\n  bookName: string;\r\n  manuMessage: string;\r\n  courseBookIntroduction: string;\r\n  coverUrl: string;\r\n}\r\nconst Introduce = (props: IIntroduce) => {\r\n  const { bookName, courseBookIntroduction, coverUrl } = props;\r\n  const [dialogStatus, setDialogStatus] = useState(false);\r\n  const [scrollHeight, setScrollHeight] = useState('0px');\r\n\r\n  useEffect(() => {\r\n    getScrollHeight();\r\n  }, []);\r\n\r\n  /** 显示或者隐藏 */\r\n  const showBottomDialog = (type: boolean) => {\r\n    track.setEvent('lh_play_vm_ck');\r\n    setDialogStatus(type);\r\n  };\r\n\r\n  /** 设置滚动盒子高度 */\r\n  const getScrollHeight = () => {\r\n    const wh = wx.platform.windowHeight || wx.getSystemInfoSync().windowHeight;\r\n    const height = Math.floor(wh * 0.55) + 'px';\r\n    setScrollHeight(height);\r\n  };\r\n\r\n  return (\r\n    <Block>\r\n      <View className=\"append-item flex\" onClick={() => showBottomDialog(true)}>\r\n        <Text className=\"icon icon-shujijieshao\"></Text>\r\n        <View className=\"append-text\">书籍介绍</View>\r\n      </View>\r\n      <BottomDialog value={dialogStatus} onClose={() => setDialogStatus(false)}>\r\n        <View catchMove className=\"dialog-content-wrapper\">\r\n          <View className=\"title-content flex\">\r\n            <View className=\"dialog-title\">书籍介绍</View>\r\n            <View onClick={() => showBottomDialog(false)}>\r\n              <Text className=\"icon icon-guanbibeifen\"></Text>\r\n              <Text className=\"close-text\">关闭</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView scrollY style={'height: ' + scrollHeight} scrollWithAnimation>\r\n            <View className=\"common-book-cover margin\">\r\n              <View className=\"common-tip-img\"></View>\r\n              <Image className=\"common-book-img\" mode=\"aspectFill\" src={coverUrl}></Image>\r\n            </View>\r\n            <View className=\"book-title\">{'《' + bookName + '》'}</View>\r\n            <RichText className=\"message\" nodes={courseBookIntroduction || ''}></RichText>\r\n          </ScrollView>\r\n        </View>\r\n      </BottomDialog>\r\n    </Block>\r\n  );\r\n};\r\nexport default Introduce;\r\n","// extracted by mini-css-extract-plugin","import Dialog from '@/components/dialog/dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { Block, Image, ScrollView, Text, View } from '@tarojs/components';\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport './knowledge.scss';\r\n\r\ninterface IKnowledge {\r\n  knowledgeMap: string;\r\n  unread: number;\r\n}\r\nconst Knowledge = (props: IKnowledge) => {\r\n  const { knowledgeMap, unread } = props;\r\n  const [isUnread, setIsUnread] = useState(0);\r\n  const [dialogStatus, setDialogStatus] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsUnread(unread);\r\n  }, [unread]);\r\n\r\n  /** 显示弹窗 */\r\n  const showDialog = (type: boolean) => {\r\n    track.setEvent('lh_map_sh_ck');\r\n    if (!type) {\r\n      setIsUnread(0);\r\n    }\r\n    setDialogStatus(type);\r\n  };\r\n\r\n  /** 保存图片 */\r\n  const bindSaveImage = () => {\r\n    track.setEvent(`lh_map_sa_ck`);\r\n    if (!knowledgeMap) wx.showToast({ title: '保存失败', icon: 'none' });\r\n    WX.saveImage(knowledgeMap);\r\n  };\r\n  return useMemo(\r\n    () => (\r\n      <Block>\r\n        <View className=\"knowledge-append-wrapper\">\r\n          <View className=\"append-item flex\" onClick={() => showDialog(true)}>\r\n            <Text className=\"icon icon-zhishidaotu\"></Text>\r\n            <View className=\"append-text\">知识导图</View>\r\n          </View>\r\n          {!!isUnread && <Image className=\"gift-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210817_liwu.png\"></Image>}\r\n        </View>\r\n        {/* 预加载knowledgeMap图片，避免弹窗出现时出现闪烁动画 */}\r\n        <Image style={{ display: 'none' }} src={knowledgeMap}></Image>\r\n        <Dialog value={dialogStatus} setValue={setDialogStatus} backgroundColor=\"transparent\" maskClose={false}>\r\n          <View catchMove className=\"knowledge-map-container\">\r\n            <Image className=\"light-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210918_guang.png\"></Image>\r\n            <ScrollView scrollY className={'map-wrapper ' + (isUnread ? 'map-move' : '')}>\r\n              <Image className=\"map\" mode=\"widthFix\" src={knowledgeMap}></Image>\r\n            </ScrollView>\r\n            <View hoverClass=\"button-wrapper-active\" className=\"button-wrapper\" onClick={bindSaveImage}>\r\n              <Text className=\"icon icon-pengyouquanfenxiang1x\"></Text>\r\n              <Text className=\"button-text\">保存图片</Text>\r\n            </View>\r\n            <Text className=\"icon icon-guanbidanchuang1x\" onClick={() => showDialog(false)}></Text>\r\n          </View>\r\n        </Dialog>\r\n      </Block>\r\n    ),\r\n    [knowledgeMap, unread, isUnread, dialogStatus]\r\n  );\r\n};\r\nexport default Knowledge;\r\n","// extracted by mini-css-extract-plugin","/*\r\n * @Description: file content\r\n * @Date: 2021-08-27 10:22:30\r\n * @LastEditTime: 2021-09-16 18:19:20\r\n */\r\nimport BottomDialog from '@/components/bottom-dialog/bottom-dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { track } from '@/utils/track';\r\nimport { Block, RichText, ScrollView, Text, View } from '@tarojs/components';\r\nimport { useEffect, useRef, useState, useMemo } from 'react';\r\nimport './manuscript.scss';\r\nimport Taro from '@tarojs/taro';\r\n\r\ninterface IManuscript {\r\n  lectureName: string;\r\n  manuMessage: string;\r\n}\r\nconst Manuscript = (props: IManuscript) => {\r\n  const { lectureName, manuMessage } = props;\r\n  const prevImages = useRef('');\r\n  const [dialogStatus, setDialogStatus] = useState(false);\r\n  const [scrollHeight, setScrollHeight] = useState('0px');\r\n\r\n  useEffect(() => {\r\n    console.log('useReady');\r\n    getScrollHeight();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (manuMessage) {\r\n      const images = manuMessage.match(/src=\\\"([^\\\"]*?)\\\"/i) as string[];\r\n      if (images && images.length > 0) {\r\n        prevImages.current = images[1];\r\n      }\r\n    }\r\n  }, [manuMessage]);\r\n\r\n  /** 显示或者隐藏 */\r\n  const showBottomDialog = (type: boolean) => {\r\n    track.setEvent('lh_intro_vm_ck');\r\n    setDialogStatus(type);\r\n  };\r\n  /** 图片预览 */\r\n  const bindPreview = () => {\r\n    if (prevImages.current) {\r\n      Taro.previewImage({\r\n        urls: [prevImages.current], //需要预览的图片http链接列表，注意是数组\r\n        current: '', // 当前显示图片的http链接，默认是第一个\r\n      });\r\n    }\r\n  };\r\n\r\n  /** 设置滚动盒子高度 */\r\n  const getScrollHeight = () => {\r\n    const wh = wx.platform.windowHeight || wx.getSystemInfoSync().windowHeight;\r\n    console.log('wh', wh);\r\n\r\n    const height = Math.floor(wh * 0.55) + 'px';\r\n    setScrollHeight(height);\r\n  };\r\n  return useMemo(() => {\r\n    return (\r\n      <Block>\r\n        <View className=\"append-item flex\" onClick={() => showBottomDialog(true)}>\r\n          <Text className=\"icon icon-wengao\"></Text>\r\n          <View className=\"append-text\">文字稿</View>\r\n        </View>\r\n        {/*  文稿内容  */}\r\n        <BottomDialog value={dialogStatus} onClose={() => setDialogStatus(false)}>\r\n          <View catchMove className=\"dialog-content-wrapper\">\r\n            <View className=\"title-content flex\">\r\n              <View className=\"dialog-title\">{lectureName}</View>\r\n              <View onClick={() => showBottomDialog(false)}>\r\n                <Text className=\"icon icon-guanbibeifen\"></Text>\r\n                <Text className=\"close-text\">关闭</Text>\r\n              </View>\r\n            </View>\r\n            <ScrollView scrollY style={'height: ' + scrollHeight} scrollWithAnimation>\r\n              <RichText nodes={manuMessage} onClick={bindPreview}></RichText>\r\n            </ScrollView>\r\n          </View>\r\n        </BottomDialog>\r\n      </Block>\r\n    );\r\n  }, [dialogStatus, lectureName, manuMessage, scrollHeight]);\r\n};\r\nexport default Manuscript;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note-content-wrapper\":\"note-content-wrapper--3q68L\",\"item-wrapper\":\"item-wrapper--fEiQ1\",\"light-wrapper\":\"light-wrapper--QDj3S\",\"account-wrap\":\"account-wrap--2aVoe\",\"basic-info\":\"basic-info--3S2wA\",\"share-note\":\"share-note--3yMR4\",\"share-img\":\"share-img--2klrY\",\"share-txt\":\"share-txt--3pMgw\",\"edit-note\":\"edit-note--1g8Km\",\"edit-icon\":\"edit-icon--1Jl2G\",\"edit-txt\":\"edit-txt--1H5GC\",\"like-wrap\":\"like-wrap--1P6yW\",\"avatar\":\"avatar--2fhJm\",\"date\":\"date--2FSQI\",\"name\":\"name--3TzXM\",\"content\":\"content--1kRPr\",\"content-footer\":\"content-footer--29MwI\",\"amount\":\"amount--1SuxG\",\"icon\":\"icon--1K-Id\",\"note-more\":\"note-more--1_7cA\",\"more-title\":\"more-title--5kR6s\",\"icon-gengduo\":\"icon-gengduo--1oLX4\"};","import { ApiStore } from '@/store';\r\nimport { dateFormat } from '@/utils/tools';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { Block, Image, RichText, Text, View } from '@tarojs/components';\r\nimport { useRef, useMemo } from 'react';\r\nimport style from './note-list.module.scss';\r\nimport { CSSModule } from '@/utils/css-module';\r\n\r\nexport type NoteLikeEvent = { discuss_id: number; is_liked: boolean };\r\ninterface INoteList {\r\n  newDiscusses: Discusses[];\r\n  myDiscusses: Discusses[];\r\n  onNoteLikeEvent: (params: Discusses) => void;\r\n}\r\nconst NoteList = (props: INoteList) => {\r\n  const { newDiscusses = [], myDiscusses = [], onNoteLikeEvent } = props;\r\n  const disabled = useRef(false);\r\n  console.log('myDiscusses', myDiscusses);\r\n\r\n  // 取自己的评价放在首位，且myDiscusses的长度不大于1\r\n  const discussesList = [...myDiscusses, ...newDiscusses];\r\n  /** 点赞状态事件 */\r\n  const bindLikeStatus = (item: Discusses) => {\r\n    if (!disabled.current) {\r\n      console.log('点赞的item', item);\r\n      onNoteLikeEvent?.(item);\r\n    } else {\r\n      WX.Toast('请不要点击过快~');\r\n    }\r\n    disabled.current = true;\r\n    setTimeout(() => {\r\n      disabled.current = false;\r\n    }, 500);\r\n  };\r\n\r\n  /** 查看笔记 */\r\n  const bindMore = () => {\r\n    track.setEvent('lh_note_vm_ck');\r\n    WX.navigateTo('/pages/personal/my-notes/my-notes');\r\n  };\r\n  /** 编辑笔记 */\r\n  const editNote = (content: string) => {\r\n    ApiStore.common.setNoteContent(content);\r\n    ApiStore.common.setNoteType('edit');\r\n    ApiStore.common.setNoteDialog(true);\r\n  };\r\n\r\n  // TODO: 分享笔记\r\n  const shareNote = () => {};\r\n  return useMemo(() => {\r\n    return (\r\n      <Block>\r\n        {/*  笔记内容  */}\r\n        <View styleName=\"note-content-wrapper\">\r\n          {discussesList.map((item) => (\r\n            <Block key={item.id}>\r\n              <View styleName={'item-wrapper ' + (item.myDiscusses ? 'light-wrapper' : '')}>\r\n                <View className=\"flex\" styleName=\"account-wrap\">\r\n                  <View styleName=\"basic-info\">\r\n                    <Image\r\n                      styleName=\"avatar\"\r\n                      mode=\"aspectFill\"\r\n                      src={item.account.avatar_url || 'https://img.lycheer.net/avatar/4cba76bb40e4646f75e715310023cff4.png/avatar'}></Image>\r\n                    {/* 12个汉字限制 */}\r\n                    <Text styleName=\"name\">{item.account.nickname}</Text>\r\n                  </View>\r\n                  <View styleName=\"share-note\" onClick={shareNote}>\r\n                    <Image src=\"https://static-1253442168.file.myqcloud.com/xupload/20210922_share-note.png\" styleName=\"share-img\"></Image>\r\n                    <Text styleName=\"share-txt\">分享笔记</Text>\r\n                  </View>\r\n                </View>\r\n                <RichText styleName=\"content\" nodes={item.content}></RichText>\r\n                <View styleName=\"content-footer\" className=\"flex\">\r\n                  <Text styleName=\"date\">{dateFormat(item.timestamp * 1000, 'mm-dd HH:MM')}</Text>\r\n                  <View className=\"flex\">\r\n                    {item.myDiscusses && (\r\n                      <View styleName=\"edit-note\" onClick={() => editNote(item.content)}>\r\n                        <Text className=\"icon icon-bianjibiji\" styleName=\"edit-icon\"></Text>\r\n                        <Text styleName=\"edit-txt\">编辑笔记</Text>\r\n                      </View>\r\n                    )}\r\n                    <View onClick={() => bindLikeStatus(item)} styleName=\"like-wrap\">\r\n                      <Text\r\n                        className={'icon ' + (item.is_liked ? 'icon-dianzan2' : 'icon-dianzan1')}\r\n                        styleName=\"icon\"\r\n                        style={'color: ' + (item.is_liked ? '#986DDA' : '#BABABA')}></Text>\r\n                      <View styleName=\"amount\" style={'color: ' + (item.is_liked ? '#9B6ADA' : '#C4C6CF')}>\r\n                        {item.like_count}\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n                {item.myDiscusses && (\r\n                  <View styleName=\"note-more\" onClick={bindMore}>\r\n                    <Text styleName=\"more-title\">查看我的所有笔记</Text>\r\n                    <Text className=\"icon icon-gengduo\"></Text>\r\n                  </View>\r\n                )}\r\n              </View>\r\n            </Block>\r\n          ))}\r\n          {!discussesList.length && (\r\n            <Block>\r\n              <View styleName=\"common-empty-container\">\r\n                <Image styleName=\"empty-img\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210605_empty.png\"></Image>\r\n                <View styleName=\"empty-text\">暂无笔记，快来做第一个发表笔记的人哦～</View>\r\n              </View>\r\n            </Block>\r\n          )}\r\n        </View>\r\n      </Block>\r\n    );\r\n  }, [newDiscusses, myDiscusses, onNoteLikeEvent]);\r\n};\r\nexport default CSSModule(NoteList, style);\r\n","// extracted by mini-css-extract-plugin","import { ApiStore } from '@/store';\r\nimport { secondToDate } from '@/utils/tools';\r\nimport { track } from '@/utils/track';\r\nimport { Slider, Text, View } from '@tarojs/components';\r\nimport { observer } from 'mobx-react';\r\nimport { useRef, useMemo, useState } from 'react';\r\nimport './play-progress.scss';\r\n\r\nconst width = (sliderProgress, duration) => {\r\n  const val = Math.ceil(sliderProgress);\r\n  return val * (84 / duration) - 4;\r\n};\r\nconst PlayProgress = observer(() => {\r\n  const progress = ApiStore.player.getSliderProgress;\r\n  const duration = ApiStore.player.getPlayInfo.duration;\r\n\r\n  const onChanging = (e) => {\r\n    ApiStore.player.onChanging(e);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    track.setEvent('lh_play_sl_sc');\r\n    ApiStore.player.onChange(e);\r\n  };\r\n\r\n  const Progress = useMemo(\r\n    () => (\r\n      <View className=\"slider-box\">\r\n        <View className=\"slider-btn\" style={'margin-left: ' + width(progress, duration) + '%'}>\r\n          {secondToDate(progress) + '/' + secondToDate(duration)}\r\n        </View>\r\n        <View className=\"slider-line\"></View>\r\n        <View className=\"slider-line-active\" style={'width: ' + width(progress, duration) + '%'}></View>\r\n      </View>\r\n    ),\r\n    [progress, duration]\r\n  );\r\n  /** 避免secondToDate被计算两次，因为duration只会触发一次更变，没必要跟progress一样高频率触发secondToDate */\r\n  const DurationText = useMemo(() => <Text className=\"cs-time\">{secondToDate(duration)}</Text>, [duration]);\r\n  return (\r\n    <View className=\"component-slider\">\r\n      {/* {Progress} */}\r\n      <Text className=\"cs-time\">{secondToDate(progress)}</Text>\r\n      <Slider\r\n        className=\"native-slider\"\r\n        blockSize={18}\r\n        blockColor=\"#986dda\"\r\n        backgroundColor=\"#DCDDDC\"\r\n        activeColor=\"#986dda\"\r\n        step={1}\r\n        onChange={onChange}\r\n        onChanging={onChanging}\r\n        max={duration}\r\n        value={progress}></Slider>\r\n      {DurationText}\r\n    </View>\r\n  );\r\n});\r\nexport default PlayProgress;\r\n","// extracted by mini-css-extract-plugin","/*\r\n * @Description: file content\r\n * @LastEditTime: 2021-09-23 10:52:03\r\n */\r\nimport { ApiStore } from '@/store';\r\nimport { getStorage, safeBottom } from '@/utils/tools';\r\nimport { Block, Image, Text, View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nimport { observer } from 'mobx-react';\r\nimport './play-control.scss';\r\n\r\ninterface IPlayeControl {\r\n  objectId: string;\r\n  coverUrl: string;\r\n  channelId: string;\r\n  lectureName: string;\r\n}\r\nconst PlayeControl = observer((props: IPlayeControl) => {\r\n  const status = ApiStore.player.getPlayInfo.status;\r\n  const playIcons = {\r\n    play: 'icon-zanting',\r\n    pause: 'icon-bofang4',\r\n    loading: 'icon-jiazai3',\r\n  } as const;\r\n  /** 点击播放暂停 */\r\n  const bindAudioStatus = () => {\r\n    if (status === 'pause') {\r\n      ApiStore.player.goPlay();\r\n    } else {\r\n      ApiStore.player.goPause();\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <View\r\n        id=\"play-status-control\"\r\n        className=\"flex fpw-play-status-wrapper\"\r\n        hoverClass=\"fpw-play-status-wrapper-active\"\r\n        onClick={bindAudioStatus}>\r\n        <Text className={'icon ' + playIcons[status]}></Text>\r\n      </View>\r\n      <View className=\"fixed-play-wrapper flex\" style={{ paddingBottom: `${safeBottom() ? safeBottom() : 14}px` }}>\r\n        <View className=\"flex\">\r\n          <Image className=\"fpw-lecture-icon\" mode=\"aspectFill\" src={getStorage('account')?.avatar_url}></Image>\r\n          <View className=\"fpw-ipt\" onClick={() => ApiStore.common.setNoteDialog(true)}>\r\n            学到什么都记起来…\r\n          </View>\r\n        </View>\r\n        <View className=\"fpw-note-wrapper\" onClick={() => ApiStore.common.setNoteDialog(true)}>\r\n          <Image className=\"fpw-publish-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210603_publish.png\"></Image>\r\n          <Text className=\"fpw-publish-text\">发表笔记</Text>\r\n        </View>\r\n      </View>\r\n    </>\r\n  );\r\n});\r\nexport default PlayeControl;\r\n","// extracted by mini-css-extract-plugin","import { IChannelDailyContentGet } from '@/api/content/content.i';\r\nimport BottomDialog from '@/components/bottom-dialog/bottom-dialog';\r\nimport PlayingIcon from '@/components/playing-icon/playing-icon';\r\nimport { ApiStore } from '@/store';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { Block, ScrollView, Text, View } from '@tarojs/components';\r\nimport Taro, { nextTick } from '@tarojs/taro';\r\nimport { observer } from 'mobx-react';\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport './play-directory.scss';\r\n\r\ntype FomateDailyContent = IChannelDailyContentGet.FomateDailyContent;\r\ntype FomateDailyContentContent = IChannelDailyContentGet.FomateDailyContentContent;\r\n\r\ninterface IPlayDirectory {\r\n  object_id: string | undefined;\r\n  fromView: string;\r\n  channelTitle: string;\r\n  fomateDailyContent: FomateDailyContent[];\r\n  onEmitLectureEvent: (lectureId: string) => void;\r\n}\r\ntype DialogStatus = 'close' | 'open';\r\ntype FomateDaily = {\r\n  week_num: number;\r\n  books: { j: number; id: number; book_name: string }[];\r\n}[];\r\nconst PlayDirectory = observer((props: IPlayDirectory) => {\r\n  const { fomateDailyContent, fromView, object_id = 0, onEmitLectureEvent, channelTitle } = props;\r\n  const [dialogStatus, setDialogStatus] = useState(false);\r\n  const [scrollHeight, setScrollHeight] = useState('0px');\r\n  const [fromViewData, setFromViewData] = useState('');\r\n  const [fomateDaily, setFomateDaily] = useState<IChannelDailyContentGet.FomateDailyContent[]>([]);\r\n\r\n  const playStatus = ApiStore.player.getPlayInfo.status;\r\n\r\n  // scrollWithAnimation设置为false后，需要等待列表渲染完毕后再去设置定位才行\r\n  useEffect(() => {\r\n    if (dialogStatus) {\r\n      setTimeout(() => setFromViewData(fromView));\r\n    } else {\r\n      setTimeout(() => setFromViewData(''));\r\n    }\r\n  }, [fromView, dialogStatus]);\r\n\r\n  useEffect(() => {\r\n    getScrollHeight();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log('useEffectsetFomateDaily');\r\n\r\n    setFomateDaily(fomateDailyContent ?? []);\r\n  }, [fomateDailyContent]);\r\n\r\n  /** 打开目录抽屉组件 */\r\n  const bindPowerDrawer = (type: boolean) => {\r\n    track.setEvent('lh_play_li_ck');\r\n    setDialogStatus(type);\r\n  };\r\n  /** 设置滚动盒子高度 */\r\n  const getScrollHeight = () => {\r\n    //沙雕处理方法 获取不到动态高度 就按屏幕高度写死\r\n    const height = Math.floor((wx?.platform?.windowHeight ?? 0) * 0.55) + 'px';\r\n    console.log('height', height, wx?.platform?.windowHeight, wx?.platform?.windowHeight ?? 0 * 0.55);\r\n    setScrollHeight(height);\r\n  };\r\n\r\n  /** 折叠面板 */\r\n  const bindShowPanel = (id: number) => {\r\n    console.log('bindShowPanel', id);\r\n    fomateDailyContent.forEach((items) => {\r\n      items.books?.forEach((book) => {\r\n        if (id === book.id) {\r\n          console.log('book.isShowPanel', book.isShowPanel);\r\n\r\n          book.isShowPanel = !book.isShowPanel;\r\n        }\r\n      });\r\n    });\r\n    setFomateDaily([...fomateDailyContent]);\r\n  };\r\n\r\n  // 目录播放事件 联动播放页面\r\n  const bindViewPlay = (item: FomateDailyContentContent, week?: number) => {\r\n    console.log('bindViewPlay', item.unlock);\r\n\r\n    switch (item.unlock) {\r\n      case 0:\r\n        Taro.showToast({ title: '不要着急，每天解锁一节课哦！', icon: 'none' });\r\n        break;\r\n      case 1:\r\n        if (item.object_type === 'form') {\r\n          WX.navigateTo('/pages/exam/exam', {\r\n            week_num: week,\r\n            channel_id: item.channel_id,\r\n          });\r\n        } else {\r\n          onEmitLectureEvent?.(`${item.object_id}`);\r\n        }\r\n        setDialogStatus(false);\r\n        break;\r\n      case 2:\r\n        // 跳转商城\r\n        ApiStore.common.bindAuthorization();\r\n        break;\r\n    }\r\n  };\r\n  const Header = useMemo(() => {\r\n    return (\r\n      <View className=\"directory-bg\">\r\n        <View className=\"directory-header flex\">\r\n          <View className=\"header-wrapper\">\r\n            <Text className=\"header-title\">目录</Text>\r\n            <Text className=\"header-subtitle\">{channelTitle}</Text>\r\n          </View>\r\n          <View onClick={() => bindPowerDrawer(false)}>\r\n            <Text className=\"icon icon-guanbibeifen\"></Text>\r\n            <Text className=\"close-text\">关闭</Text>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }, [channelTitle]);\r\n\r\n  return (\r\n    <Block>\r\n      <View className=\"append-item flex\" onClick={() => bindPowerDrawer(true)}>\r\n        <Text className=\"icon icon-mulu\"></Text>\r\n        <View className=\"append-text\">目录</View>\r\n      </View>\r\n      {/*  测滑抽屉目录组件  */}\r\n      <BottomDialog value={dialogStatus} onClose={() => setDialogStatus(false)}>\r\n        {Header}\r\n        <ScrollView scrollY style={'height: ' + scrollHeight} scrollIntoView={fromViewData} scrollWithAnimation={false}>\r\n          <View className=\"panel-directory-wrapper\">\r\n            {fomateDaily.map((items, i) => {\r\n              return (\r\n                <Block key={i}>\r\n                  {!!items.week_num && (\r\n                    <View className=\"items-bg\">\r\n                      <View className=\"items-title\">{'第' + items.week_num + '周'}</View>\r\n                    </View>\r\n                  )}\r\n                  {items.books?.map((book) => {\r\n                    return (\r\n                      <View className=\"book-item\" key={book.id}>\r\n                        {!!items.week_num && (\r\n                          <View className=\"lecture-header flex\" onClick={(e) => bindShowPanel(book.id)} id={'id_to_' + book.id}>\r\n                            <View className=\"lecture-title\">{book.book_name}</View>\r\n                            <Text className={'icon icon-zhankai ' + (book.isShowPanel ? 'rotate' : '')}></Text>\r\n                          </View>\r\n                        )}\r\n                        {book.isShowPanel &&\r\n                          book.lectures.map((lec) => {\r\n                            return (\r\n                              <View className=\"lecture-content flex\" onClick={(e) => bindViewPlay(lec)} key={lec.id}>\r\n                                <View\r\n                                  className={`lecture-subtitle ${lec.object_id == object_id && 'playing'} ${lec.unlock !== 1 && 'locked'}`}>\r\n                                  {lec.title}\r\n                                </View>\r\n                                <View className=\"flex\">\r\n                                  {lec.unlock === 1 && !!lec.unread && (\r\n                                    <Text className={`read-status ${lec.object_id == object_id && 'playing'}`}>未听</Text>\r\n                                  )}\r\n                                  {lec.unlock === 1 /* 解锁 */ && (\r\n                                    <Block>\r\n                                      {lec.object_id == object_id ? (\r\n                                        <PlayingIcon statue={playStatus}></PlayingIcon>\r\n                                      ) : (\r\n                                        <Text className=\"icon icon-gengduo\"></Text>\r\n                                      )}\r\n                                    </Block>\r\n                                  )}\r\n                                  {lec.unlock === 2 /* 购物车 */ && (\r\n                                    <View className=\"cart\">\r\n                                      <Text className=\"icon icon-gouwuche\"></Text>\r\n                                    </View>\r\n                                  )}\r\n                                  {lec.unlock === 0 /* 锁 */ && <Text className=\"icon icon-suo\"></Text>}\r\n                                </View>\r\n                              </View>\r\n                            );\r\n                          })}\r\n                      </View>\r\n                    );\r\n                  })}\r\n                  {!!items.exam && (\r\n                    <View onClick={() => bindViewPlay(items.exam!, items.week_num)} className=\"form-content flex\">\r\n                      <Text className=\"lecture-title\">{items.exam.title + '与回顾'}</Text>\r\n                      {items.exam.unlock === 1 /** 解锁  */ && <Text className=\"icon icon-gengduo\"></Text>}\r\n                      {items.exam.unlock === 2 /** 购物车 */ && (\r\n                        <View className=\"cart\">\r\n                          <Text className=\"icon icon-gouwuche\"></Text>\r\n                        </View>\r\n                      )}\r\n                      {items.exam.unlock === 0 /** 锁 */ && <Text className=\"icon icon-suo\"></Text>}\r\n                    </View>\r\n                  )}\r\n                </Block>\r\n              );\r\n            })}\r\n          </View>\r\n        </ScrollView>\r\n      </BottomDialog>\r\n    </Block>\r\n  );\r\n});\r\n\r\nexport default PlayDirectory;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"append_item\":\"append_item--1XGV9\",\"speed_text\":\"speed_text--31l-Y\",\"speed_on\":\"speed_on--1Teqr\",\"speed_icon\":\"speed_icon--1SNwK\",\"icon_xuanze\":\"icon_xuanze--1EQdS\",\"speed_item\":\"speed_item--34sg4\",\"append_text\":\"append_text--HCJ-q\",\"dialog_content_wrapper\":\"dialog_content_wrapper--3Q5in\",\"title_content\":\"title_content--lCo3U\",\"title\":\"title--1HW4m\",\"icon_guanbibeifen\":\"icon_guanbibeifen--2FzmN\",\"close_text\":\"close_text--2OYNf\"};","/*\r\n * @Description: file content\r\n * @LastEditTime: 2021-08-27 16:51:33\r\n */\r\nimport BottomDialog from '@/components/bottom-dialog/bottom-dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { PlayerRate } from '@/store/player';\r\nimport { track } from '@/utils/track';\r\nimport { Block, Text, View } from '@tarojs/components';\r\nimport { useState, useMemo } from 'react';\r\nimport style from './index.module.scss';\r\n\r\ninterface IPlayRate {}\r\ntype DialogStatus = 'open' | 'close';\r\n\r\nconst PlayRate = (props: IPlayRate) => {\r\n  const [dialogStatus, setDialogStatus] = useState(false);\r\n  // const [speedIcon, setSpeedIcon] = useState('icon-a-10beisu');\r\n  // const [checkSpeed, setCheckSpeed] = useState(1.0);\r\n  const rateData = ApiStore.player.getRate;\r\n  const speedList: { title: string; speed: PlayerRate }[] = [\r\n    { title: '放慢速度到0.5倍', speed: 0.5 },\r\n    { title: '正常速度', speed: 1.0 },\r\n    { title: '加快速度到1.5倍', speed: 1.5 },\r\n    { title: '加快速度到2.0倍', speed: 2.0 },\r\n  ];\r\n\r\n  /** 弹出事件 */\r\n  const showBottomDialog = (type: boolean) => {\r\n    type && track.setEvent(`lh_speed_sh_ck`);\r\n    setDialogStatus(type);\r\n  };\r\n\r\n  /** 改变速率 */\r\n  const bindChange = (item: { title: string; speed: PlayerRate }) => {\r\n    const map = {\r\n      0.5: 'icon-a-05beisu',\r\n      1.0: 'icon-a-10beisu',\r\n      1.5: 'icon-a-15beisu',\r\n      2.0: 'icon-a-20beisu',\r\n    } as const;\r\n\r\n    type a = valueOf<typeof map>;\r\n    track.setEvent(`lh_speed_${item.speed}_ck`);\r\n    // setCheckSpeed(item.speed);\r\n    setDialogStatus(false);\r\n    // setSpeedIcon(map[item.speed]);\r\n    ApiStore.player.setRate(item.speed);\r\n  };\r\n  return useMemo(() => {\r\n    return (\r\n      <Block>\r\n        <View className={`${style.append_item} flex`} onClick={() => showBottomDialog(true)}>\r\n          <Text className={`icon ${rateData.icon} ${style.speed_icon}`}></Text>\r\n          <View className={style.append_text}>倍速</View>\r\n        </View>\r\n        <BottomDialog value={dialogStatus} onClose={() => setDialogStatus(false)}>\r\n          <View className={style.dialog_content_wrapper}>\r\n            <View className={`${style.title_content} flex`}>\r\n              <View className={style.title}>调整播放速度</View>\r\n              <View onClick={() => showBottomDialog(false)}>\r\n                <Text className={`icon icon-guanbibeifen ${style.icon_guanbibeifen}`}></Text>\r\n                <Text className={style.close_text}>关闭</Text>\r\n              </View>\r\n            </View>\r\n            {speedList.map((item, index) => {\r\n              return (\r\n                <View catchMove onClick={() => bindChange(item)} className={`${style.speed_item} flex`} key={index}>\r\n                  <Text className={`${style.speed_text} ${item.speed === rateData.rate && style.speed_on}`}>{item.title}</Text>\r\n                  {item.speed === rateData.rate && <Text className={`icon icon-xuanze ${style.icon_xuanze}`}></Text>}\r\n                </View>\r\n              );\r\n            })}\r\n          </View>\r\n        </BottomDialog>\r\n      </Block>\r\n    );\r\n  }, [rateData, dialogStatus]);\r\n};\r\nexport default PlayRate;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lecture_title_wrapper\":\"lecture_title_wrapper--1KSLH\",\"lecture_text\":\"lecture_text--1NgBo\",\"sub_title\":\"sub_title--2HTc0\",\"title\":\"title--3L3Eh\"};","import { Image, View } from '@tarojs/components';\r\nimport { useMemo } from 'react';\r\nimport type { IContentInfo } from '../../detail';\r\nimport style from './index.module.scss';\r\n\r\nconst PlayTitle = (props: IContentInfo) => {\r\n  const { cover_url, lecture_name, anchor, author } = props;\r\n  return useMemo(() => {\r\n    return (\r\n      <View className={style.lecture_title_wrapper}>\r\n        <View className='common-book-cover'>\r\n          <View className='common-tip-img'></View>\r\n          <Image className='common-book-img' mode='aspectFill' src={cover_url}></Image>\r\n        </View>\r\n        <View className={style.lecture_text}>\r\n          <View className={style.title}>{lecture_name}</View>\r\n          <View className={style.sub_title}>{'主播：' + (anchor || '/')}</View>\r\n          <View className={style.sub_title}>{'作者：' + (author || '/')}</View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }, [cover_url, lecture_name, anchor, author]);\r\n};\r\nexport default PlayTitle;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note-header-wrapper\":\"note-header-wrapper--269z_\",\"symbol-icon\":\"symbol-icon--2A8sr\",\"symbol-text\":\"symbol-text--3wF-C\",\"note-number\":\"note-number--XuDN3\",\"sn-tip\":\"sn-tip--3ajvf\",\"note-button\":\"note-button--3LEWu\",\"note-button-active\":\"note-button-active--cypL4\",\"publish-icon\":\"publish-icon--33jSs\",\"button-text\":\"button-text--q4CcN\",\"note-actionsheet-wrapper\":\"note-actionsheet-wrapper--IPP6F\",\"top-wrap\":\"top-wrap--6hKLD\",\"title\":\"title--2Jt1Y\",\"content\":\"content--3Tt_G\",\"cancel\":\"cancel--WkiQm\",\"confirm\":\"confirm--OJ-eu\",\"confirm-active\":\"confirm-active--sMIOo\",\"header\":\"header--31rm1\",\"lecture-info\":\"lecture-info--2ot8J\",\"lecture-icon\":\"lecture-icon--2pOWR\",\"lecture-text\":\"lecture-text--6vW7r\",\"note-scroll-view-container\":\"note-scroll-view-container--3N3FB\",\"textarea\":\"textarea--3srSK\",\"publish-text\":\"publish-text--1ndd5\",\"textarea-footer\":\"textarea-footer--1ZOlG\",\"note-footer-wrap\":\"note-footer-wrap--2sGIZ\",\"footer-icon\":\"footer-icon--LMmG-\",\"footer-txt\":\"footer-txt--3E255\"};","import BottomDialog from '@/components/bottom-dialog/bottom-dialog';\r\nimport { ApiStore } from '@/store';\r\nimport { trim } from '@/utils/tools';\r\nimport { track } from '@/utils/track';\r\nimport WX from '@/utils/WX';\r\nimport { BaseEventOrig, Block, Button, Image, RichText, ScrollView, Text, Textarea, View } from '@tarojs/components';\r\nimport { TextareaProps } from '@tarojs/components/types/Textarea';\r\nimport { observer } from 'mobx-react';\r\nimport { useState, useEffect } from 'react';\r\nimport style from './send-note.module.scss';\r\nimport { CSSModule } from '@/utils/css-module';\r\n\r\ninterface ISendNote {\r\n  coverUrl: string;\r\n  lectureName: string;\r\n  totalCount: number;\r\n  sendSucc: boolean;\r\n  manuMessage: string;\r\n  onEmitNoteSendEvent: Function;\r\n}\r\nconst SendNote = observer(\r\n  CSSModule((props: ISendNote) => {\r\n    const { onEmitNoteSendEvent, totalCount, coverUrl, lectureName, sendSucc, manuMessage } = props;\r\n    const [noteValue, setNoteValue] = useState<string>('');\r\n    const [textareaFous, setTextareaFous] = useState(false);\r\n    const [maxlength, setMaxlength] = useState(500);\r\n    const [minLength, setMinLength] = useState(0);\r\n    const [cursorSpacing, setCursorSpacing] = useState(431); // 指定光标与键盘的距离，单位 px 。取 Textarea 距离底部的距离和 cursorSpacing 指定的距离的最小值作为光标与键盘的距离\r\n    const [isManuscripts, setIsManuscripts] = useState<boolean>(false); // 是否显示文稿\r\n    const { showNoteDialog, noteType, noteContent } = ApiStore.common;\r\n    useEffect(() => {\r\n      if (sendSucc) {\r\n        ApiStore.common.setNoteDialog(false);\r\n        setNoteValue('');\r\n        setMinLength(0);\r\n      }\r\n      return () => {\r\n        ApiStore.common.setNoteDialog(false);\r\n        setIsManuscripts(false);\r\n      };\r\n    }, [sendSucc]);\r\n\r\n    useEffect(() => {\r\n      if (noteType === 'edit') {\r\n        setNoteValue(noteContent);\r\n      }\r\n    }, [noteType]);\r\n\r\n    // 显示发表笔记弹窗\r\n    const bindShowActionNote = (type: boolean) => {\r\n      type && track.setEvent('lh_play_no_s');\r\n      ApiStore.common.setNoteDialog(type);\r\n    };\r\n\r\n    /** 发表笔记 */\r\n    const bindPublishNote = () => {\r\n      const value = trim(noteValue);\r\n      if (!value) {\r\n        WX.Toast('请输入笔记后再发表哦');\r\n        setTextareaFous(true);\r\n        return;\r\n      }\r\n      onEmitNoteSendEvent?.(value, (isSuccess: boolean) => {\r\n        if (isSuccess) setNoteValue('');\r\n      });\r\n    };\r\n\r\n  const bindKeyoardHeightChange = (e: BaseEventOrig<TextareaProps.onKeyboardHeightChangeEventDetail>) => {\r\n    console.log('bindKeyoardHeightChange', e.detail.height, cursorSpacing);\r\n    if (e.detail.height) {\r\n      console.log('设置为431', e.detail.duration * 1000);\r\n      setCursorSpacing(e.detail.height);\r\n    }\r\n  };\r\n\r\n    // 监听文本框内容\r\n    const valueChange = (e: BaseEventOrig<TextareaProps.onInputEventDetail>) => {\r\n      const value = trim(e.detail.value);\r\n      let length = value.length;\r\n      if (length > 500) length = 500;\r\n      setMinLength(length);\r\n      setNoteValue(value);\r\n    };\r\n\r\n    // 点击收起、展开文稿按钮\r\n    const onManuscript = () => {\r\n      setTextareaFous(true);\r\n      setIsManuscripts(!isManuscripts);\r\n    };\r\n    const onClose = () => {\r\n      ApiStore.common.setNoteDialog(false);\r\n      setIsManuscripts(false);\r\n    };\r\n\r\n    return (\r\n      <Block>\r\n        <View styleName=\"note-header-wrapper\" className=\"flex\">\r\n          <View className=\"flex\">\r\n            <Image styleName=\"symbol-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210603_douhao.png\"></Image>\r\n            <View className=\"flex\">\r\n              <Text styleName=\"symbol-text\">精选学习笔记</Text>\r\n              <Text styleName=\"sn-tip\">/</Text>\r\n              <Text styleName=\"note-number\">{totalCount}</Text>\r\n            </View>\r\n          </View>\r\n          {/* <View hoverClass=\"note-button-active\" styleName=\"note-button\" className=\"flex\" onClick={() => bindShowActionNote(true)}>\r\n            <Image styleName=\"publish-icon\" src=\"https://static-1253442168.file.myqcloud.com/xupload/20210603_publish.png\"></Image>\r\n            <Text styleName=\"button-text\">发表笔记</Text>\r\n          </View> */}\r\n        </View>\r\n        {/*  写笔记弹窗  */}\r\n        <BottomDialog fixed value={showNoteDialog} onClose={onClose}>\r\n          <View catchMove styleName=\"note-actionsheet-wrapper\">\r\n            {isManuscripts && (\r\n              <View styleName=\"top-wrap\">\r\n                <View styleName=\"title\">文稿</View>\r\n                <ScrollView styleName=\"content\" scrollY onScroll={() => setTextareaFous(true)}>\r\n                  <RichText nodes={manuMessage}></RichText>\r\n                </ScrollView>\r\n                <View styleName=\"note-actionsheet-popup\"></View>\r\n              </View>\r\n            )}\r\n            <ScrollView styleName=\"note-scroll-view-container\" scrollY>\r\n              {/* 这里键盘弹窗不会吸附输入框，需要用fixed包住 */}\r\n              <Textarea\r\n                styleName=\"textarea\"\r\n                value={noteValue}\r\n                placeholder=\"请输入读书笔记…\"\r\n                maxlength={maxlength}\r\n                focus={textareaFous}\r\n                fixed\r\n                holdKeyboard\r\n                cursorSpacing={cursorSpacing}\r\n                onKeyboardHeightChange={bindKeyoardHeightChange}\r\n                onInput={valueChange}></Textarea>\r\n              <View styleName=\"textarea-footer\">{minLength + '/' + maxlength + '字'}</View>\r\n            </ScrollView>\r\n\r\n            <View styleName=\"note-footer-wrap\" className=\"flex\">\r\n              <View className=\"flex\" onClick={onManuscript}>\r\n                <Text className={`icon ${isManuscripts ? 'icon-bijishouqi' : 'icon-bijizhankai'}`} styleName=\"footer-icon\"></Text>\r\n                <Text styleName=\"footer-txt\">{isManuscripts ? '收起' : '展开'}文稿</Text>\r\n              </View>\r\n              <View className=\"flex\">\r\n                <Text styleName=\"cancel\" onClick={() => bindShowActionNote(false)}>\r\n                  取消\r\n                </Text>\r\n                <Text styleName=\"confirm\" style={{ opacity: !trim(noteValue) ? '0.5' : '1' }} onClick={bindPublishNote}>\r\n                  发表笔记\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </BottomDialog>\r\n      </Block>\r\n    );\r\n  }, style)\r\n);\r\n\r\nexport default SendNote;\r\n","// extracted by mini-css-extract-plugin","import { Block, Button, Canvas, Text, View } from '@tarojs/components';\r\nimport Taro, { Canvas as ICanvas, CanvasContext, nextTick } from '@tarojs/taro';\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport './share.scss';\r\n\r\ninterface IShare {\r\n  coverUrl: string;\r\n  objectId: string | undefined;\r\n  setShareInfoCallback: Function;\r\n}\r\nconst Share = (props: IShare) => {\r\n  const { coverUrl, objectId, setShareInfoCallback } = props;\r\n  const width = 422;\r\n  const height = 338;\r\n  const [shareInfo, setShareInfo] = useState({\r\n    imageUrl: '',\r\n    path: '/pages/activity/activity?from=share_book',\r\n    title: '我正在听这本书，感觉很不错，你也来一起听书吧！',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (coverUrl) initCanvas();\r\n  }, [coverUrl]);\r\n\r\n  const initCanvas = () => {\r\n    setTimeout(() => {\r\n      // 优化，可能拿不到\r\n      const query = wx.createSelectorQuery();\r\n      query\r\n        .select('#shareCanvas')\r\n        .fields({ node: true, rect: true }, (res) => {\r\n          console.log('res2222', res);\r\n\r\n          const canvas = res.node;\r\n          const ctx = canvas.getContext('2d');\r\n          canvas.width = width; //本地图像的width\r\n          canvas.height = height; //本地图像的height\r\n          render(canvas, ctx);\r\n        })\r\n        .exec();\r\n    }, 300);\r\n  };\r\n\r\n  const render = (canvas: ICanvas, ctx: CanvasContext) => {\r\n    let img = canvas.createImage();\r\n    img.onload = async () => {\r\n      console.log('img', img, img.src);\r\n\r\n      ctx.drawImage(img, 0, 0, width, height);\r\n      await setBookCover(canvas, ctx);\r\n      setCanvas(canvas);\r\n    };\r\n    img.src = `https://static-1253442168.file.myqcloud.com/xupload/20210817_share.png`;\r\n  };\r\n\r\n  // 绘制书籍封面\r\n  const setBookCover = (canvas: ICanvas, ctx: CanvasContext) => {\r\n    const leftX = 136;\r\n    const topY = 48;\r\n    // 绘制圆角\r\n    function roundRect(x, y, w, h, r) {\r\n      if (w < 2 * r) r = w / 2;\r\n      if (h < 2 * r) r = h / 2;\r\n      ctx.moveTo(x + r, y);\r\n      ctx.arcTo(x + w, y, x + w, y + h, r);\r\n      ctx.arcTo(x + w, y + h, x, y + h, r);\r\n      ctx.arcTo(x, y + h, x, y, r);\r\n      ctx.arcTo(x, y, x + w, y, r);\r\n      ctx.clip();\r\n    }\r\n\r\n    // 绘制阴影\r\n    function roundShadow() {\r\n      ctx.shadowOffsetX = 0;\r\n      ctx.shadowOffsetY = 5;\r\n      ctx.shadowBlur = 8;\r\n      // @ts-ignore\r\n      ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';\r\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.37)';\r\n      ctx.fillRect(leftX, topY, 8, 194);\r\n    }\r\n\r\n    return new Promise<void>((resolve, reject) => {\r\n      console.log(' Taro.getImageInfo', coverUrl);\r\n      let img = canvas.createImage();\r\n      img.onload = () => {\r\n        roundRect(leftX, topY, 146, 194, 10);\r\n        ctx.drawImage(img, leftX, topY, 146, 194);\r\n        roundShadow();\r\n        resolve();\r\n      };\r\n      img.src = coverUrl;\r\n      // Taro.getImageInfo({\r\n      //   src: coverUrl,\r\n      //   success: (res) => {\r\n      //     console.log('getImageInfo', res);\r\n\r\n      //     if (res.path) {\r\n      //       let img = canvas.createImage();\r\n      //       img.onload = () => {\r\n      //         roundRect(leftX, topY, 146, 194, 10);\r\n      //         ctx.drawImage(img, leftX, topY, 146, 194);\r\n      //         roundShadow();\r\n      //         resolve();\r\n      //       };\r\n      //       img.src = res.path;\r\n      //     }\r\n      //   },\r\n      //   fail: (err) => {\r\n      //     console.log('getImageInfo', err);\r\n\r\n      //     reject(err);\r\n      //   },\r\n      // });\r\n    });\r\n  };\r\n\r\n  // 生成图片\r\n  const setCanvas = (canvas) => {\r\n    Taro.canvasToTempFilePath({\r\n      canvas,\r\n      width: width,\r\n      height: height,\r\n      destWidth: width,\r\n      destHeight: height,\r\n      success(res) {\r\n        const newShareInfo = {\r\n          ...shareInfo,\r\n          imageUrl: res.tempFilePath,\r\n        };\r\n        setShareInfo(newShareInfo);\r\n        setShareInfoCallback?.(newShareInfo); // 回调给详情，用于右上角分享\r\n      },\r\n    });\r\n  };\r\n  return useMemo(() => {\r\n    return (\r\n      <Block>\r\n        <Button className=\"append-item flex\" openType=\"share\" data-shareInfo={shareInfo}>\r\n          <Text className=\"icon icon-fenxiang1\"></Text>\r\n          <View className=\"append-text\">分享好书</View>\r\n        </Button>\r\n        <Canvas className=\"share-canvas\" id=\"shareCanvas\" type=\"2d\" style={'width: ' + width + 'px;height: ' + height + 'px'}></Canvas>\r\n      </Block>\r\n    );\r\n  }, [coverUrl, objectId, shareInfo]);\r\n};\r\nexport default Share;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottom-line\":\"bottom-line--3vA1i\",\"scroll-view-container\":\"scroll-view-container--7oJgF\",\"play-content-wrapper\":\"play-content-wrapper--1Jtod\",\"play-box-container\":\"play-box-container--34rk0\",\"loading-note\":\"loading-note--20aZw\",\"loading-img\":\"loading-img--bdvkY\",\"play-fun-list\":\"play-fun-list--2LH60\",\"common-book-cover\":\"common-book-cover--HPgvm\",\"common-tip-img\":\"common-tip-img--20uch\",\"common-book-img\":\"common-book-img--4vdiG\"};","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js!./detail.tsx\"\nvar config = {\"navigationBarTitleText\":\"梨花听书\",\"onReachBottomDistance\":100};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'pages/detail/detail', {root:{cn:[]}}, config || {}))\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA6BA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAJA;AAKA;AAEA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AAEA;AAHA;AAMA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAPA;AAUA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAGA;AAJA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AACA;AADA;AAOA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAYA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAAA;AAAA;AACA;AALA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AATA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAZA;AA2BA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AANA;AAAA;AAQA;AACA;AACA;AAHA;AACA;AARA;AAOA;AAKA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAVA;AAYA;AACA;AACA;AAnCA;AAAA;AACA;AADA;AAAA;AAAA;AAoCA;AACA;AACA;AAtCA;AAAA;AAuCA;AAvCA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AA2CA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAGA;AAJA;AAAA;AACA;AADA;AAAA;AAAA;AAMA;AAAA;AACA;AAPA;AAMA;AACA;AACA;AACA;AATA;AAUA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAjCA;AADA;AAqCA;AACA;AAxCA;AA2CA;AACA;AACA;AADA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AALA;AAKA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAAA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAhOA;AACA;AACA;AA2OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAnBA;AAsBA;AACA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AAGA;AAAA;AAAA;AACA;AAJA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAHA;AAEA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AARA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAYA;AAAA;AAAA;AAAA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAqBA;AACA;AACA;AADA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AANA;AAWA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAEA;AAHA;AAMA;AACA;AACA;AADA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AARA;AAUA;AACA;AACA;AAdA;AAiBA;AAGA;AAAA;AAEA;AAAA;AAIA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AALA;AADA;AAUA;AACA;AACA;AACA;AAJA;AAXA;AAsBA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAVA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAFA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AADA;AADA;AA5DA;AAoEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AA1EA;AAxVA;AA6aA;;;;;;;;;;;;AC9eA;AACA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AACA;AAFA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AANA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AALA;AAXA;AADA;AA2BA;AACA;;;;;;;;;;;ACnDA;;;;;;;;;;;;;ACCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAMA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAJA;AADA;AADA;AAYA;AACA;AAAA;;;;;;;;;;;AChCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAIA;AAJA;AAAA;AAKA;AAAA;AAAA;AACA;AANA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAtBA;AAAA;AACA;AADA;AAwBA;AAxBA;AAAA;AACA;AADA;AAAA;AAAA;AA0BA;AACA;AACA;AACA;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAgCA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAHA;AAEA;AACA;AAEA;AACA;AACA;AACA;AARA;AASA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAJA;AALA;AAgBA;AACA;AACA;AAHA;AASA;AAAA;AATA;AAhBA;AADA;AA+BA;AAAA;AAAA;AAAA;AAhCA;AA4CA;AAgBA;AACA;;;;;;;;;;;;ACzLA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAmBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAFA;AAhBA;AAqBA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAHA;AAXA;AAtBA;AACA;AAwCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AACA;AAHA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAIA;AAEA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AARA;AADA;AAkBA;AACA;AAEA;;;;;;;;;;;ACvJA;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;;;;AAQA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAFA;AAOA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AANA;AARA;AADA;AALA;AA0BA;AACA;AAAA;;;;;;;;;;;AC/DA;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;AACA;;;;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AALA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AATA;AADA;AAVA;AADA;AA4BA;AACA;AAAA;;;;;;;;;;;AClEA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;AAMA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AACA;AAHA;AAIA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAFA;AAOA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AARA;AADA;AANA;AAsBA;AACA;AACA;AAAA;;;;;;;;;;;;ACtFA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AANA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AATA;AAcA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA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AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAFA;AADA;AAeA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AADA;AAGA;AAAA;AALA;AAQA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAWA;AAAA;AAAA;AAbA;AAgBA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AALA;AA1BA;AADA;AAhBA;AA6DA;AAGA;;;;;;;;;;;AC/JA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAHA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AACA;AAbA;AAeA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AALA;AAQA;AACA;AACA;AAAA;;;;;;;;;;;;ACnJA;AACA;;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}